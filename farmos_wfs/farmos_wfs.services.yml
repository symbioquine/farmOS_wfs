services:
  farmos_wfs.top_level_controller:
    class: Drupal\farmos_wfs\Controller\FarmWfsController
    arguments:
     - '@request_stack'
     - '@config.factory'
     - '@farmos_wfs.get_capabilities_handler'
     - '@farmos_wfs.describe_feature_type_handler'
     - '@farmos_wfs.get_feature_handler'
     - '@farmos_wfs.transaction_handler'

  farmos_wfs.get_capabilities_handler:
    class: Drupal\farmos_wfs\Handler\FarmWfsGetCapabilitiesHandler
    arguments:
     - '@request_stack'
     - '@config.factory'
     - '@entity_type.bundle.info'
     - '@current_user'

  farmos_wfs.describe_feature_type_handler:
    class: Drupal\farmos_wfs\Handler\FarmWfsDescribeFeatureTypeHandler
    arguments:
     - '@entity_type.manager'
     - '@entity_type.bundle.info'
     - '@entity_field.manager'

  farmos_wfs.get_feature_handler:
    class: Drupal\farmos_wfs\Handler\FarmWfsGetFeatureHandler

  farmos_wfs.transaction_handler:
    class: Drupal\farmos_wfs\Handler\FarmWfsTransactionHandler
